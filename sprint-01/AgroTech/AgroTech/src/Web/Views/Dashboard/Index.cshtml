@model IEnumerable<AgroTech.Application.DTOs.SensorDTO>

@{
    ViewData["Title"] = "Dashboard";
}

<h2>Dashboard AgroTech</h2>

<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>Nome</th>
        <th>Tipo</th>
        <th>Valor</th>
        <th>Timestamp</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var sensor in Model)
    {
        var alertClass = "";
        
        // Alertas por tipo de sensor
        if(sensor.Type == "Temperature" && sensor.Value > 35)
        {
            alertClass = "table-danger"; // vermelho
        }
        else if(sensor.Type == "Humidity" && sensor.Value < 30)
        {
            alertClass = "table-warning"; // amarelo
        }
        else if(sensor.Type == "Ph" && (sensor.Value < 5 || sensor.Value > 8))
        {
            alertClass = "table-info"; // azul
        }
        else if (sensor.Type == "Light" && sensor.Value < 300)
        {
            alertClass = "table-secondary"; // cinza
        }
        else if (sensor.Type == "Wind" && sensor.Value > 20)
        {
            alertClass = "table-primary"; // azul escuro
        }
        
        <tr class="@alertClass">
            <td>@sensor.Name</td>
            <td>@sensor.Type</td>
            <td>@sensor.Value</td>
            <td>@sensor.Timestamp.ToString("yyyy-MM-dd HH:mm:ss")</td>
        </tr>
    }
    </tbody>
</table>